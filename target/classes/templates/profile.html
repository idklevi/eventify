<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:replace="~{fragments/header :: page_head('My Profile')}" />
    <style>
        .profile-card { max-width: 600px; margin: auto; }
    </style>
</head>
<body class="d-flex flex-column min-vh-100">

    <div th:replace="~{fragments/header :: navbar(activePage='profile')}"></div>

    <div class="content-wrap">
        <div class="container my-5">

             <div class="card form-card profile-card">
                 <h2 class="text-center mb-4">My Profile</h2>

                 <div th:if="${user != null}">
                     <div class="mb-3">
                         <label class="form-label fw-bold">Name:</label>
                         <p class="form-control-plaintext" th:text="${user.name}">User Name</p>
                     </div>
                     <div class="mb-3">
                         <label class="form-label fw-bold">Email:</label>
                         <p class="form-control-plaintext" th:text="${user.email}">user@example.com</p>
                     </div>
                      <div class="mb-4">
                         <label class="form-label fw-bold">Roles:</label>
                         <div>
                             <span th:each="role : ${user.roles}" class="badge bg-secondary me-1" th:text="${role.name.replace('ROLE_', '')}">ROLE</span>
                         </div>
                     </div>

                     <hr>

                     <div class="d-flex justify-content-between">
                         <button type="button" class="btn btn-outline-secondary" disabled>
                            <i class="bi bi-pencil-fill me-1"></i> Edit Profile (coming soon)
                         </button>

                          <form th:action="@{/logout}" method="post">
                             <button type="submit" class="btn btn-danger">
                                <i class="bi bi-box-arrow-right me-2"></i>Logout
                             </button>
                         </form>
                     </div>

                 </div>

                 <div th:unless="${user != null}" class="alert alert-warning">
                    User details not found.
                 </div>
            </div> </div> </div> <div th:replace="~{fragments/footer :: page_footer}"></div>

</body>
</html>